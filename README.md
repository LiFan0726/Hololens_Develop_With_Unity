## Hololens_Develop_With_Unity
大创项目名称：基于增强现实的装配技术（Unity开发Hololens2应用）  
概述：在HoloLens眼镜下，通过增强现实技术，让虚拟已装配模型与现实待装配模型重叠，从而实现辅助装配。  
目的：开发一个HoloLens2应用（UWP平台），实现增强现实、虚拟模型跟踪现实模型、简易交互。  
重点：增强现实和模型跟踪可在Unity中添加Vuforia组件实现，应用界面和简易交互均可在Unity中实现。
### 1.*学习Unity基本操作*
认识Unity界面，旋转缩放等基本操作，物体的主要组件。
### 2.*学习C#语言基本语法*
为给物体添加脚本做准备，主要的函数和功能Unity会有对应的组件类库，主要需要知道基本的语法即可。  
以上两节在B站有不错的教程：[史上最全Unity3D教程]( https://www.bilibili.com/video/BV12s411g7gU/?share_source=copy_web&vd_source=e2ea1e505203cdd17f8b36ec2fc6fbde)
### 3.*对待装配父物体和待装配子物体分别建模*
CATIA对建模，得到装配体文件。
### 4.*将模型装换为.fbx格式并导入Unity场景中*
将装配体文件转换成.fbx文件，称之为轻量化。CATIA中无法实现，可在3DMax中转换或者网站上进行。
### 3.*Vuforia注册，并将目标图像（target）导入Unity*
要让模型实现跟踪，首先需要能够识别模型，利用Vuforia组件的现成功能即可，[Vuforia官网](https://developer.vuforia.com/downloads/SDK)，网上教程较多可参考。
需要识别度较高的图片一张，最后得到的是一个Unity相关的文件按照教程导入Unity即可。  
值得注意的是，整个如果把显示待装配模型的照片上传用作识别往往识别度较差，效果不佳；大创时解决方案是在模型上粘贴二维码，以二维码作为图片识别，效果较好，但是由于摄像头分辨率的问题往往距离较远时识别不到二维码导致虚拟模型丢失，特别是模型较大又需要镜头囊括整个现实模型时。暂时没有好的解决方案，我的一个个人想法是放大粘贴在模型上二维码尺寸，但并未实践，想来也是治标不治本。
另一问题是，Vuforia官网上传识别图时需要填入尺寸，这个尺寸必须和实际尺寸一致，例如现实中打印出二维码的大小，单位为m。因为最后导出的文件内含的图片模型尺寸即为所填尺寸。只有这样虚拟识别图尺寸和虚拟模型尺寸、显示识别图和显示模型尺寸才一一对应。
### 4.*将target与虚拟模型空间位置关系与现实图像和实物位置对应*
上一步导出的文件内含的识别图模型即为target，在Unity中其与虚拟模型的相对位置与最后二维码与增强现实虚拟模型相对位置一致，故欲使增强现实模型与待装配模型重合，则Unity中target与虚拟模型的相对位置需要和现实中二维码与待装配模型相对位置一致。
### 5.*Unity导入MRTK包*
MRTK包可在Unity中下载，内含大量增强现实按钮等预制件可方便使用，因为普通按钮（Unity教程中提到的）在增强现实下不显示，故需用到MRTK包。
### 6.*为待装配子物体添加简单按钮和脚本实现消隐和动画效果*
将按钮与待装配零件联系起来，通过脚本实现简单的消失/隐藏和播放动画的效果即可
### 7.*烧录到HoloLens2眼镜中*
网上亦有教程，主要工作即为在Unity导出.sln文件，使用VS打开后，通过数据线或者无线连接将电脑和HoloLens2眼镜配对，即可烧录。烧录完成即可尝试效果。
